
<template>
  <div class="course-container">
    <div
      class="course-img-container"
      :style="`background:url(${course.img}) no-repeat;background-size: cover;width:350px;height:150px;border-radius:1em 1em 0 0;position:relative`"
    >
      <div class="more-selled-course">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="22"
          height="33"
          viewBox="0 0 22 33"
          fill="none"
        >
          <path
            d="M14.6957 5.32174L16.4922 0H5.50977L7.30628 5.32174H14.6957Z"
            fill="#F0F0F0"
          />
          <path
            d="M8.62729 12.779L4.25465 0H4.22075V0.0338964L0.492145 3.76251C0.0514914 4.20316 -0.117991 4.88109 0.0853876 5.45733L3.54282 15.6263C4.89868 14.2365 6.6613 13.2196 8.62729 12.779Z"
            fill="#F0F0F0"
          />
          <path
            d="M21.5082 3.76251L17.7457 0L13.373 12.779C15.339 13.2535 17.0678 14.2365 18.4575 15.6263L21.9149 5.45733C22.1183 4.88109 21.9488 4.20316 21.5082 3.76251Z"
            fill="#F0F0F0"
          />
          <path
            d="M11.0005 13.6621C5.88215 13.6621 1.71289 17.7975 1.71289 22.9497C1.71289 28.0681 5.84826 32.2374 11.0005 32.2374C16.1528 32.2374 20.2881 28.102 20.2881 22.9497C20.2881 17.7975 16.1189 13.6621 11.0005 13.6621ZM11.0005 29.1528C7.57697 29.1528 4.76357 26.3733 4.76357 22.9158C4.76357 19.4923 7.54308 16.6789 11.0005 16.6789C14.4241 16.6789 17.2375 19.4584 17.2375 22.9158C17.2375 26.3733 14.4241 29.1528 11.0005 29.1528Z"
            fill="#F0F0F0"
          />
          <path
            d="M14.9987 21.4567L12.592 20.9822C12.5242 20.9822 12.4564 20.9144 12.4225 20.8466L11.2361 18.7111C11.1345 18.5416 10.8972 18.5416 10.7955 18.7111L9.57522 20.8466C9.54133 20.9144 9.47353 20.9483 9.40574 20.9822L6.99909 21.4567C6.79572 21.4906 6.72792 21.7279 6.86351 21.8635L8.52443 23.66C8.55833 23.7278 8.59223 23.7956 8.59223 23.8634L8.28716 26.3039C8.25326 26.5073 8.45664 26.6429 8.62612 26.5412L10.8633 25.4904C10.9311 25.4565 10.9989 25.4565 11.0667 25.4904L13.3038 26.5412C13.4733 26.609 13.6767 26.4734 13.6428 26.3039L13.3716 23.8634C13.3716 23.7956 13.3716 23.7278 13.4394 23.66L15.1003 21.8635C15.2359 21.7279 15.1681 21.4906 14.9987 21.4567Z"
            fill="#F0F0F0"
          />
        </svg>
        <span
          >Más<br />
          Vendido</span
        >
      </div>
      <div class="course-type">
        <svg
          v-if="course.type == 1"
          xmlns="http://www.w3.org/2000/svg"
          width="52"
          height="52"
          viewBox="0 0 52 52"
          fill="none"
        >
          <g opacity="0.7">
            <path
              d="M31.7586 1C25.6345 1 20.3283 4.48954 17.697 9.5838H2.20476C2.16713 9.58204 2.12944 9.58204 2.09181 9.5838C1.79226 9.61203 1.51412 9.75132 1.31208 9.97426C1.11003 10.1972 0.998714 10.4877 1.00001 10.7885V50.3757C1.00004 50.6952 1.12698 51.0016 1.35291 51.2275C1.57883 51.4535 1.88525 51.5804 2.20476 51.5804H36.0694C36.3889 51.5804 36.6953 51.4535 36.9212 51.2275C37.1471 51.0016 37.2741 50.6952 37.2741 50.3757V36.5964C37.2764 36.4368 37.2469 36.2783 37.1873 36.1301C37.1278 35.982 37.0394 35.8472 36.9273 35.7335C36.8152 35.6198 36.6817 35.5295 36.5344 35.4679C36.3871 35.4063 36.229 35.3745 36.0694 35.3745C35.9097 35.3745 35.7516 35.4063 35.6044 35.4679C35.4571 35.5295 35.3235 35.6198 35.2114 35.7335C35.0993 35.8472 35.0109 35.982 34.9514 36.1301C34.8919 36.2783 34.8624 36.4368 34.8646 36.5964V49.1709H3.4095V11.9933H16.6805C16.1946 13.5123 15.9275 15.1333 15.9275 16.8123C15.9275 25.5427 23.0253 32.6434 31.7586 32.6434C34.1278 32.6434 36.3657 32.1101 38.3847 31.1751L40.4177 34.7328C40.4883 34.8831 40.5892 35.0172 40.7141 35.1267C40.839 35.2361 40.9851 35.3186 41.1434 35.3689C41.3016 35.4192 41.4685 35.4362 41.6337 35.4189C41.7988 35.4017 41.9586 35.3504 42.103 35.2685C42.2474 35.1865 42.3734 35.0756 42.4729 34.9426C42.5724 34.8097 42.6433 34.6577 42.6813 34.496C42.7192 34.3344 42.7234 34.1666 42.6934 34.0033C42.6635 33.84 42.6001 33.6846 42.5072 33.5469L40.493 30.008C44.767 27.173 47.5897 22.3174 47.5897 16.8123C47.5897 8.08185 40.492 1 31.7586 1ZM31.7586 3.37184C39.1896 3.37184 45.1991 9.38382 45.1991 16.8123C45.1991 24.2407 39.1896 30.2527 31.7586 30.2527C24.3277 30.2527 18.3182 24.2407 18.3182 16.8123C18.3182 9.38382 24.3277 3.37184 31.7586 3.37184ZM6.79784 15.3063C6.6382 15.3041 6.4797 15.3336 6.33156 15.3931C6.18341 15.4526 6.04857 15.541 5.93488 15.6531C5.82119 15.7652 5.73091 15.8988 5.66929 16.0461C5.60767 16.1934 5.57594 16.3514 5.57594 16.5111C5.57594 16.6707 5.60767 16.8288 5.66929 16.9761C5.73091 17.1234 5.82119 17.257 5.93488 17.3691C6.04857 17.4811 6.18341 17.5695 6.33156 17.6291C6.4797 17.6886 6.6382 17.7181 6.79784 17.7158H11.3909C11.5506 17.7181 11.7091 17.6886 11.8572 17.6291C12.0054 17.5695 12.1402 17.4811 12.2539 17.3691C12.3676 17.257 12.4579 17.1234 12.5195 16.9761C12.5811 16.8288 12.6128 16.6707 12.6128 16.5111C12.6128 16.3514 12.5811 16.1934 12.5195 16.0461C12.4579 15.8988 12.3676 15.7652 12.2539 15.6531C12.1402 15.541 12.0054 15.4526 11.8572 15.3931C11.7091 15.3336 11.5506 15.3041 11.3909 15.3063H6.79784ZM21.4242 15.3063C21.2648 15.3032 21.1064 15.3318 20.9581 15.3903C20.8098 15.4488 20.6746 15.5362 20.5604 15.6474C20.4461 15.7586 20.355 15.8913 20.2925 16.0379C20.2299 16.1846 20.197 16.3421 20.1958 16.5016C20.1945 16.661 20.2249 16.8191 20.2852 16.9666C20.3455 17.1142 20.4345 17.2484 20.547 17.3613C20.6595 17.4742 20.7933 17.5637 20.9406 17.6246C21.088 17.6855 21.246 17.7165 21.4054 17.7158C23.505 17.7233 24.1891 17.7098 30.0268 17.7158C30.1865 17.7181 30.345 17.6886 30.4931 17.6291C30.6413 17.5695 30.7761 17.4811 30.8898 17.3691C31.0035 17.257 31.0938 17.1234 31.1554 16.9761C31.217 16.8288 31.2487 16.6707 31.2487 16.5111C31.2487 16.3514 31.217 16.1934 31.1554 16.0461C31.0938 15.8988 31.0035 15.7652 30.8898 15.6531C30.7761 15.541 30.6413 15.4526 30.4931 15.3931C30.345 15.3336 30.1865 15.3041 30.0268 15.3063C24.1852 15.3003 23.5116 15.3138 21.4242 15.3063ZM6.66608 20.483C6.50785 20.4916 6.35288 20.5313 6.21002 20.5999C6.06715 20.6684 5.93917 20.7644 5.83341 20.8824C5.72764 21.0004 5.64615 21.138 5.5936 21.2875C5.54104 21.437 5.51844 21.5954 5.52709 21.7536C5.53575 21.9118 5.57548 22.0668 5.64403 22.2097C5.71257 22.3525 5.80859 22.4805 5.92659 22.5862C6.04459 22.692 6.18227 22.7735 6.33176 22.826C6.48125 22.8785 6.63963 22.9011 6.79784 22.8925H12.5392C12.6988 22.8947 12.8573 22.8652 13.0055 22.8057C13.1536 22.7462 13.2885 22.6578 13.4022 22.5457C13.5159 22.4336 13.6061 22.3 13.6678 22.1527C13.7294 22.0054 13.7611 21.8474 13.7611 21.6877C13.7611 21.5281 13.7294 21.37 13.6678 21.2227C13.6061 21.0754 13.5159 20.9418 13.4022 20.8297C13.2885 20.7177 13.1536 20.6293 13.0055 20.5697C12.8573 20.5102 12.6988 20.4807 12.5392 20.483H6.79784C6.75395 20.4806 6.70997 20.4806 6.66608 20.483ZM22.836 20.483C22.6778 20.4904 22.5225 20.5288 22.3792 20.5962C22.2358 20.6636 22.1072 20.7586 22.0005 20.8757C21.8939 20.9928 21.8113 21.1298 21.7576 21.2788C21.7039 21.4278 21.6801 21.586 21.6875 21.7442C21.6949 21.9024 21.7334 22.0576 21.8008 22.201C21.8682 22.3443 21.9632 22.473 22.0804 22.5796C22.1975 22.6863 22.3345 22.7688 22.4835 22.8224C22.6326 22.8761 22.7907 22.8999 22.9489 22.8925H30.0268C30.1865 22.8947 30.345 22.8652 30.4931 22.8057C30.6413 22.7462 30.7761 22.6578 30.8898 22.5457C31.0035 22.4336 31.0938 22.3 31.1554 22.1527C31.217 22.0054 31.2487 21.8474 31.2487 21.6877C31.2487 21.5281 31.217 21.37 31.1554 21.2227C31.0938 21.0754 31.0035 20.9418 30.8898 20.8297C30.7761 20.7177 30.6413 20.6293 30.4931 20.5697C30.345 20.5102 30.1865 20.4807 30.0268 20.483H22.9489C22.9113 20.4812 22.8736 20.4812 22.836 20.483ZM6.66608 25.6408C6.50785 25.6494 6.35288 25.6891 6.21002 25.7577C6.06715 25.8262 5.93917 25.9222 5.83341 26.0402C5.72764 26.1582 5.64615 26.2959 5.5936 26.4453C5.54104 26.5948 5.51844 26.7532 5.52709 26.9114C5.53575 27.0696 5.57548 27.2246 5.64403 27.3675C5.71257 27.5103 5.80859 27.6383 5.92659 27.744C6.04459 27.8498 6.18227 27.9313 6.33176 27.9838C6.48125 28.0364 6.63963 28.0589 6.79784 28.0503H15.4005C15.5601 28.0525 15.7186 28.023 15.8668 27.9635C16.0149 27.904 16.1497 27.8156 16.2634 27.7035C16.3771 27.5914 16.4674 27.4578 16.529 27.3105C16.5906 27.1633 16.6224 27.0052 16.6224 26.8455C16.6224 26.6859 16.5906 26.5278 16.529 26.3805C16.4674 26.2332 16.3771 26.0997 16.2634 25.9876C16.1497 25.8755 16.0149 25.7871 15.8668 25.7276C15.7186 25.668 15.5601 25.6385 15.4005 25.6408H6.79784C6.75395 25.6384 6.70997 25.6384 6.66608 25.6408ZM27.5044 25.6408C27.3462 25.6482 27.1909 25.6867 27.0476 25.754C26.9042 25.8214 26.7755 25.9164 26.6689 26.0335C26.5622 26.1506 26.4797 26.2876 26.426 26.4366C26.3723 26.5856 26.3485 26.7438 26.3559 26.902C26.3633 27.0602 26.4018 27.2155 26.4692 27.3588C26.5366 27.5021 26.6316 27.6308 26.7488 27.7374C26.8659 27.8441 27.0029 27.9266 27.1519 27.9803C27.301 28.0339 27.4591 28.0577 27.6173 28.0503H30.0268C30.1865 28.0525 30.345 28.023 30.4931 27.9635C30.6413 27.904 30.7761 27.8156 30.8898 27.7035C31.0035 27.5914 31.0938 27.4578 31.1554 27.3105C31.217 27.1633 31.2487 27.0052 31.2487 26.8455C31.2487 26.6859 31.217 26.5278 31.1554 26.3805C31.0938 26.2332 31.0035 26.0997 30.8898 25.9876C30.7761 25.8755 30.6413 25.7871 30.4931 25.7276C30.345 25.668 30.1865 25.6385 30.0268 25.6408H27.6173C27.5797 25.639 27.542 25.639 27.5044 25.6408ZM44.6532 35.3917C44.1123 35.3563 43.5479 35.4772 43.0531 35.7682L42.0554 36.3517C40.736 37.1276 40.3003 38.8726 41.0766 40.1918L44.7849 46.4979C45.5612 47.8171 47.2868 48.2903 48.6062 47.5144L49.6227 46.9121C50.9422 46.1361 51.3967 44.3911 50.6204 43.0719L46.8932 36.7658C46.4081 35.9413 45.5546 35.4507 44.6532 35.3917ZM44.4273 37.7824C44.5801 37.7569 44.7323 37.8359 44.8226 37.9894L48.5309 44.2955C48.6514 44.5001 48.6039 44.721 48.3992 44.8414L47.3827 45.4249C47.178 45.5454 46.976 45.479 46.8556 45.2744L43.1472 38.9683C43.0268 38.7636 43.0743 38.5616 43.279 38.4412L44.2767 37.8388C44.3279 37.8087 44.3764 37.7908 44.4273 37.7824Z"
              fill="#F0F0F0"
              stroke="#F0F0F0"
              stroke-width="0.8"
            />
          </g>
        </svg>
        <svg
          v-if="course.type == 2"
          xmlns="http://www.w3.org/2000/svg"
          width="45"
          height="53"
          viewBox="0 0 45 53"
          fill="none"
        >
          <path
            opacity="0.7"
            d="M41.0519 29.4886V21.8251L39.7219 22.343L36.8176 19.4546L34.3159 21.1221C33.0087 19.1777 30.6809 17.6209 27.8104 16.7512C29.8738 15.1415 31.2102 12.626 31.2102 9.7954C31.2096 4.94547 27.3021 1 22.4994 1C17.6967 1 13.7892 4.94547 13.7892 9.79481C13.7892 12.6225 15.1233 15.1356 17.1826 16.7453C14.3034 17.6168 11.9855 19.17 10.6771 21.1168L8.18184 19.454L5.27748 22.3424L3.94755 21.8245V29.488C2.28733 29.7425 1 31.4177 1 33.4452C1 35.4722 2.28733 37.1473 3.94755 37.4019V44.7725L22.4994 52L41.0519 44.7725V37.4019C42.7121 37.1473 44 35.4728 44 33.4452C44 31.4177 42.7121 29.7425 41.0519 29.4886ZM36.7079 20.5865L38.825 22.6918L26.1221 27.6407L36.7079 20.5865ZM14.6646 9.7954C14.6646 5.43276 18.1793 1.88384 22.4994 1.88384C26.8195 1.88384 30.3343 5.43276 30.3343 9.79481C30.3343 14.1569 26.8195 17.7064 22.4994 17.7064C18.1793 17.7064 14.6646 14.1575 14.6646 9.7954ZM8.29096 20.5865L18.8761 27.6407L6.17324 22.6918L8.29096 20.5865ZM1.87534 33.4452C1.87534 31.73 3.00102 30.3347 4.38522 30.3347C5.76941 30.3347 6.89568 31.73 6.89568 33.4452C6.89568 35.1605 5.76941 36.5552 4.38522 36.5552C3.00102 36.5558 1.87534 35.1605 1.87534 33.4452ZM22.0617 50.8822L4.8223 44.1662V37.4066C4.83922 37.4042 4.85498 37.3966 4.87132 37.3936C5.05689 37.3618 5.23838 37.3159 5.41286 37.2499C5.42745 37.2446 5.44145 37.2369 5.45604 37.231C5.63344 37.1609 5.80501 37.0755 5.96782 36.9729C5.97424 36.9688 5.98124 36.9659 5.98825 36.9611C6.15048 36.8574 6.30337 36.7361 6.44867 36.6035C6.4656 36.5876 6.48369 36.5734 6.50061 36.5575C6.63775 36.4273 6.76496 36.2835 6.88342 36.1297C6.9021 36.105 6.92136 36.0814 6.94003 36.0567C7.05324 35.9023 7.15653 35.7373 7.24931 35.5635C7.26507 35.534 7.28024 35.5046 7.29541 35.4745C7.3847 35.2972 7.46348 35.1116 7.52825 34.9183C7.53818 34.8888 7.54693 34.8588 7.55568 34.8293C7.61871 34.629 7.67064 34.4222 7.70624 34.2077C7.70974 34.1859 7.71149 34.1635 7.71499 34.1417C7.74884 33.9154 7.76985 33.6833 7.76985 33.4452C7.76985 33.2072 7.74884 32.9756 7.71499 32.7488C7.71208 32.727 7.70974 32.7046 7.70624 32.6828C7.67064 32.4689 7.61929 32.2621 7.55568 32.0611C7.54635 32.0317 7.53818 32.001 7.52825 31.9722C7.4629 31.7783 7.38412 31.5933 7.29541 31.4159C7.28024 31.3859 7.26507 31.3564 7.24931 31.327C7.15653 31.1531 7.05382 30.9881 6.94003 30.8338C6.92136 30.809 6.90268 30.7849 6.88342 30.7601C6.76496 30.6069 6.63833 30.4626 6.50061 30.3323C6.48369 30.3158 6.4656 30.3017 6.44867 30.2858C6.30337 30.1532 6.15048 30.0318 5.98825 29.9281C5.98124 29.924 5.97424 29.9205 5.96724 29.9163C5.80443 29.8144 5.63286 29.729 5.45604 29.6583C5.44145 29.6524 5.42745 29.6453 5.41286 29.6394C5.23838 29.5734 5.05689 29.528 4.87132 29.4956C4.8544 29.4927 4.83864 29.485 4.8223 29.4827V23.1131L22.0617 29.8291V50.8822ZM11.4188 21.6124C12.7178 19.6826 15.1279 18.1624 18.1408 17.3982C19.4247 18.1512 20.9104 18.5902 22.4994 18.5902C24.0884 18.5902 25.5748 18.1512 26.858 17.3982C29.8557 18.1583 32.2857 19.6821 33.5847 21.6088L22.4994 28.9966L11.4188 21.6124ZM40.1765 44.1662L22.9371 50.8822V29.8291L40.1765 23.1137V29.4886C38.5163 29.7431 37.2284 31.4183 37.2284 33.4458C37.2284 35.4733 38.5163 37.1479 40.1765 37.4025V44.1662ZM40.6142 36.5558C39.23 36.5558 38.1037 35.1605 38.1037 33.4458C38.1037 31.7306 39.23 30.3353 40.6142 30.3353C41.9984 30.3353 43.1247 31.7306 43.1247 33.4458C43.1241 35.1605 41.9984 36.5558 40.6142 36.5558Z"
            fill="#F0F0F0"
            stroke="#F0F0F0"
            stroke-width="1.8"
          />
        </svg>
      </div>
    </div>
    <div class="course-content">
      <h5>
        {{ course.title }}
      </h5>
      <p class="course-description">
        {{ course.description }}
      </p>
      <p class="course-schedule">
        {{ course.schedule }}
      </p>
      <div class="course-footer">
        <router-link :to="'/course-detail/' + course.id"
          >Mas información</router-link
        >
        <button class="btn-course">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="15"
            height="14"
            viewBox="0 0 15 14"
            fill="none"
          >
            <path
              d="M7.57169 10.8528C6.88583 10.8528 6.32766 11.4108 6.32766 12.0967C6.32766 12.7827 6.88566 13.3409 7.57169 13.3409C8.25756 13.3409 8.81557 12.7827 8.81557 12.0967C8.81573 11.4108 8.25773 10.8528 7.57169 10.8528ZM7.57169 12.6877C7.24591 12.6877 6.98087 12.4225 6.98087 12.0967C6.98087 11.7711 7.24591 11.506 7.57169 11.506C7.89732 11.506 8.16236 11.7711 8.16236 12.0967C8.16252 12.4226 7.89748 12.6877 7.57169 12.6877ZM11.656 10.8528C10.9702 10.8528 10.4122 11.4108 10.4122 12.0967C10.4122 12.7827 10.9702 13.3409 11.656 13.3409C12.3419 13.3409 12.9001 12.7827 12.9001 12.0967C12.8999 11.4108 12.3419 10.8528 11.656 10.8528ZM11.656 12.6877C11.3303 12.6877 11.0654 12.4225 11.0654 12.0967C11.0654 11.7711 11.3304 11.506 11.656 11.506C11.9818 11.506 12.2469 11.7711 12.2469 12.0967C12.2467 12.4226 11.9817 12.6877 11.656 12.6877ZM14.6178 3.9115C14.4959 3.76551 14.3118 3.68174 14.1126 3.68174H4.84357C4.80405 3.68174 4.76519 3.685 4.72746 3.69121L4.2988 1.31827C4.23282 0.955249 3.90818 0.672737 3.54238 0.658856C3.53307 0.658366 3.52409 0.658203 3.51462 0.658203H0.560979C0.380694 0.658203 0.234375 0.804522 0.234375 0.984807C0.234375 1.16509 0.380694 1.31141 0.560979 1.31141H3.51266C3.51413 1.31141 3.5156 1.31157 3.51707 1.31157C3.57521 1.31337 3.64543 1.37575 3.65604 1.43487L4.19494 4.4179C4.19673 4.43178 4.19869 4.44534 4.20114 4.45857L5.16348 9.78401C5.22945 10.1478 5.55557 10.431 5.92234 10.4436C5.9328 10.4441 5.94374 10.4442 5.95402 10.4442H13.0087C13.0183 10.4442 13.0273 10.4441 13.0366 10.4436C13.4022 10.4297 13.7269 10.1472 13.7928 9.78384L14.755 4.45857C14.7913 4.25852 14.7411 4.05929 14.6178 3.9115ZM14.1132 4.33511C14.1131 4.33723 14.1128 4.33968 14.1123 4.34229L13.6911 6.67327H5.26505L4.84373 4.3418C4.84341 4.33952 4.84308 4.3374 4.84275 4.33511H14.1132ZM13.0111 9.7907C13.0096 9.7907 13.0082 9.79086 13.0067 9.79086H5.94929C5.94798 9.79086 5.94651 9.7907 5.94521 9.7907C5.88707 9.7889 5.81701 9.72652 5.80624 9.66741L5.38312 7.32582H13.5732L13.1503 9.66708C13.1393 9.72669 13.0691 9.7889 13.0111 9.7907Z"
              fill="#F0F0F0"
              stroke="#F0F0F0"
              stroke-width="0.2"
            />
          </svg>
          <span @click="addToCart(course)" class="btn-course-price"
            >$ {{ course.priceUsd }} (S/.{{ course.pricePen }})</span
          >
        </button>
      </div>
    </div>
  </div>
</template>
<script>
//composition api
import { useShopCar } from "/composables/shop-car/shop-car.composables.js";
import { carStore } from "../../store/car/car.store";

export default {
  name: "CourseItem",
  props: {
    course: {
      type: Object,
      required: true,
    },
  },
  setup(props) {
    const store = carStore();
    const getCarItems = store.getCarItems;
    console.log(getCarItems);
    const addToCart = (course) => {
      const { addCarItem } = useShopCar();
      const courseInCar = getCarItems.find((item) => item.id === course.id);
      if (courseInCar) {
        return;
      }
      addCarItem(course);
    };
    return {
      course: props.course,
      addToCart,
    };
  },
  components: {},
};
</script>